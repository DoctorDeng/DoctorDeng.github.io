---
layout: post
title: JaveEE 面试知识整理
categories: [java, 面试]
description: 介绍一些Jsp、Servlet的知识
keywords: java, 面试
---

介绍一些Jsp、Servlet的知识

## 1、Servlet接口五种方法介绍。
1.`init()`

在Servlet实例化后，Servlet 容器会调用 init() 方法来初始化该对象，主要是为了让 Servlet 对象在处理客户请求前可以完成一些初始化工作，例如：建立数据库的连接，获取配置信息等。对于每一个 Servlet 实例，init() 方法只能被调用一次。init() 方法有一个类型为ServletConfig的参数，Servlet 容器通过这个参数向 Servlet 传递配置信息。Servlet 使用 ServletConfig 对象从 Web 应用程序的配置信息中获取以名-值对形式提供的初始化参数。另外，在 Servlet 中，还可以通过 ServletConfig 对象获取描述 Servlet 运行环境的 ServletContext 对象，使用该对象，Servlet 可以和它的 Servlet 容器进行通信.

2.`service()`

容器调用 service() 方法来处理客户端的请求。要注意的是，在 service() 方法被容器调用之前，必须确保 init() 方法正确完成。容器会构造一个表示客户端请求信息的请求对象（类型为 ServletRequest）和一个用于对客户端进行响应的响应对象（类型为 ServletResponse）作为参数传递给 service()。在 service() 方法中，Servlet 对象通过 ServletRequest 对象得到客户端的相关信息和请求信息，在对请求进行处理后，调用 ServletResponse 对象的方法设置响应信息.

3.`destroy()`

当容器检测到一个 Servlet 对象应该从服务中被移除的时候，容器会调用该对象的 destroy()方法，以便让Servlet对象可以释放它所使用的资源，保存数据到持久存储设备中，例如将内存中的数据保存到数据库中，关闭数据库的连接等。当需要释放内存或者容器关闭时，容器就会调用 Servlet 对象的 destroy() 方法，在 Servlet 容器调用 destroy() 方法前，如果还有其他的线程正在 service() 方法中执行容器会等待这些线程执行完毕或者等待服务器设定的超时值到达。一旦 Servlet 对象的 destroy() 方法被调用，容器不回再把请求发送给该对象。如果需要改 Servlet 再次为客户端服务，容器将会重新产生一个 Servlet 对象来处理客户端的请求。在 destroy() 方法调用之后，容器会释放这个 Servlet对象，在随后的时间内，该对象会被 java 的垃圾收集器所回收。

4.`getServletConfig()`

该方法返回容器调用 init() 方法时传递给 Servlet 对象的 ServletConfig 对象，ServletConfig 对象包含了 Servlet 的初始化参数。

5.`getServletInfo()`

返回一个 String 类型的字符串，其中包括了关于 Servlet 的信息，例如，作者、版本和版权。该方法返回的应该是纯文本字符串，而不是任何类型的标记。

## 2、转发（forward）和重定向（redirect）的区别？
* forward 是服务器端行为, redirect 是客户端行为。
* forward 是客户端一次 request 请求, redirect 是客户端两次 request 请求。
* forward 不会刷新浏览器 URL 地址, redirect 会刷新浏览器 URL 地址, 显示的是当前页面的 URL。
* forward 无法请求本服务外的资源, redirect 可以请求本服务器外的资源。
* forward 跳转后要加上 return 语句, 因为页面跳转后还会执行跳转后面的语句。 redirect 则不需要。
* forward 页面间可以共享 request 和 response 对象, redirect 页面间无法共享。
* forward 比 redirect 的效率更高。

## 3、JSP有哪些内置对象？作用分别是什么？ 
- request：代表了客户端的请求信息，其中包含来自GET或POST请求的参数； 
- response：代表服务器对客户端的响应； 
- pageContext：通过该对象可以获取其他对象； 
- session：由服务器自动创建的与用户请求相关的对象； 
- application：封装服务器运行环境的对象； 
- out：输出服务器响应的输出流对象； 
- config：Web应用的配置对象； 
- page：JSP页面本身（相当于Java程序中的this）； 
- exception：封装页面抛出异常的对象。

## 4、Get 和 Post 的区别？
1. 根据 HTTP 规范 Get 用于信息获取, 而且应该是安全和幂等的。没有副作用。
    安全：指的是 Get 用于获取信息而非修改信息,即不会影响资源的状态。
    
    幂等: 指的是同一 URL 的多个请求应该返回同样的结果。但在实际中, 例如从新闻网站 Get 信息, 信息都是不同的,但也被认为是安全和幂等的,因为它总是返回当前的新闻。从根本上说，如果目标是当用户打开一个链接时，他可以确信从自身的角度来看没有改变资源即可。

2. 根据 HTTP 规范，POST 表示可能修改变服务器上的资源的请求。是不幂等的, 有副作用。

3. 在 HTML 中 Get 方式由于浏览器或服务器的限制,提交的数据长度有限。而理论上 Post 方式没有这个限制。

    > 注意：在 HTTP 协议中 Get 和 Post 方式长度并没有限制。

4. Get 方式发送的数据附加在 URL 上, 而 Post 方式则是存储在 消息体（Body）中。

5. Get 的请求，由于参数在 URL 中，刷新页面不会丢失，Post 刷新之后要重新提交。

> 注意：HTTP 是应用层协议, 不是传输协议。Get 和 Post 方式都是明文传输的, 都是不安全的。

